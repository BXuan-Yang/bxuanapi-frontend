"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[169],{73597:function(ue,K,s){s.r(K),s.d(K,{default:function(){return o}});var V=s(97983),t=s.n(V),Y=s(11281),g=s.n(Y),H=s(40794),p=s.n(H),P=s(12741),_=s.n(P),$=s(24969),X=s(99420),U=s(41102),N=s(37370),B=s(13243),ee=s(30028),h=s(12461),Z=s(71577),D=s(63463),I=s(67294),C=s(37872),L=s(85402),d=s(85893),J=function(f){var e=f.visible,F=f.columns,b=f.onCancel,j=f.onSubmit;return(0,d.jsx)(L.Z,{visible:e,footer:null,onCancel:function(){return b==null?void 0:b()},children:(0,d.jsx)(U.Z,{type:"form",columns:F,onSubmit:function(){var S=p()(t()().mark(function w(y){return t()().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:j==null||j(y);case 1:case"end":return E.stop()}},w)}));return function(w){return S.apply(this,arguments)}}()})})},A=J,Q=function(f){var e=f.values,F=f.visible,b=f.columns,j=f.onCancel,S=f.onSubmit,w=(0,I.useRef)();return(0,I.useEffect)(function(){if(w){var y;(y=w.current)===null||y===void 0||y.setFieldsValue(e)}},[e]),(0,d.jsx)(L.Z,{visible:F,footer:null,onCancel:function(){return j==null?void 0:j()},children:(0,d.jsx)(U.Z,{type:"form",formRef:w,columns:b,onSubmit:function(){var y=p()(t()().mark(function k(E){return t()().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:S==null||S(E);case 1:case"end":return x.stop()}},k)}));return function(k){return y.apply(this,arguments)}}()})})},G=Q,l=function(){var f=(0,I.useState)(!1),e=_()(f,2),F=e[0],b=e[1],j=(0,I.useState)(!1),S=_()(j,2),w=S[0],y=S[1],k=(0,I.useState)(!1),E=_()(k,2),q=E[0],x=E[1],R=(0,I.useRef)(),se=(0,I.useState)(),ne=_()(se,2),T=ne[0],W=ne[1],ie=(0,I.useState)([]),re=_()(ie,2),M=re[0],ae=re[1],le=function(){var c=p()(t()().mark(function u(a){var i;return t()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return i=h.ZP.loading("\u6B63\u5728\u6DFB\u52A0"),n.prev=1,n.next=4,(0,C.Y4)(g()({},a));case 4:return i(),h.ZP.success("\u521B\u5EFA\u6210\u529F"),b(!1),n.abrupt("return",!0);case 10:return n.prev=10,n.t0=n.catch(1),i(),h.ZP.error("\u521B\u5EFA\u5931\u8D25\uFF0C"+n.t0.message),n.abrupt("return",!1);case 15:case"end":return n.stop()}},u,null,[[1,10]])}));return function(a){return c.apply(this,arguments)}}(),oe=function(){var c=p()(t()().mark(function u(a){var i;return t()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(T){n.next=2;break}return n.abrupt("return");case 2:return i=h.ZP.loading("\u4FEE\u6539\u4E2D"),n.prev=3,n.next=6,(0,C.T7)(g()({id:T.id},a));case 6:return i(),h.ZP.success("\u64CD\u4F5C\u6210\u529F"),n.abrupt("return",!0);case 11:return n.prev=11,n.t0=n.catch(3),i(),h.ZP.error("\u64CD\u4F5C\u5931\u8D25\uFF0C"+n.t0.message),n.abrupt("return",!1);case 16:case"end":return n.stop()}},u,null,[[3,11]])}));return function(a){return c.apply(this,arguments)}}(),de=function(){var c=p()(t()().mark(function u(a){var i,m;return t()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(i=h.ZP.loading("\u53D1\u5E03\u4E2D"),a){r.next=3;break}return r.abrupt("return",!0);case 3:return r.prev=3,r.next=6,(0,C.GC)({id:a.id});case 6:return i(),h.ZP.success("\u64CD\u4F5C\u6210\u529F"),(m=R.current)===null||m===void 0||m.reload(),window.location.reload(),r.abrupt("return",!0);case 13:return r.prev=13,r.t0=r.catch(3),i(),h.ZP.error("\u64CD\u4F5C\u5931\u8D25\uFF0C"+r.t0.message),r.abrupt("return",!1);case 18:case"end":return r.stop()}},u,null,[[3,13]])}));return function(a){return c.apply(this,arguments)}}(),ce=function(){var c=p()(t()().mark(function u(a){var i,m;return t()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(i=h.ZP.loading("\u53D1\u5E03\u4E2D"),a){r.next=3;break}return r.abrupt("return",!0);case 3:return r.prev=3,r.next=6,(0,C.zr)({id:a.id});case 6:return i(),h.ZP.success("\u64CD\u4F5C\u6210\u529F"),(m=R.current)===null||m===void 0||m.reload(),window.location.reload(),r.abrupt("return",!0);case 13:return r.prev=13,r.t0=r.catch(3),i(),h.ZP.error("\u64CD\u4F5C\u5931\u8D25\uFF0C"+r.t0.message),r.abrupt("return",!1);case 18:case"end":return r.stop()}},u,null,[[3,13]])}));return function(a){return c.apply(this,arguments)}}(),te=function(){var c=p()(t()().mark(function u(a){var i,m;return t()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(i=h.ZP.loading("\u6B63\u5728\u5220\u9664"),a){r.next=3;break}return r.abrupt("return",!0);case 3:return r.prev=3,r.next=6,(0,C.XG)({id:a.id});case 6:return i(),h.ZP.success("\u5220\u9664\u6210\u529F"),(m=R.current)===null||m===void 0||m.reload(),r.abrupt("return",!0);case 12:return r.prev=12,r.t0=r.catch(3),i(),h.ZP.error("\u5220\u9664\u5931\u8D25\uFF0C"+r.t0.message),r.abrupt("return",!1);case 17:case"end":return r.stop()}},u,null,[[3,12]])}));return function(a){return c.apply(this,arguments)}}(),z=[{title:"id",dataIndex:"id",valueType:"index"},{title:"\u63A5\u53E3\u540D\u79F0",dataIndex:"name",valueType:"text",formItemProps:{rules:[{required:!0}]}},{title:"\u63CF\u8FF0",dataIndex:"description",valueType:"textarea"},{title:"\u8BF7\u6C42\u65B9\u6CD5",dataIndex:"method",valueType:"text"},{title:"url",dataIndex:"url",valueType:"text"},{title:"\u8BF7\u6C42\u53C2\u6570",dataIndex:"requestParams",valueType:"jsonCode"},{title:"\u8BF7\u6C42\u5934",dataIndex:"requestHeader",valueType:"jsonCode"},{title:"\u54CD\u5E94\u5934",dataIndex:"responseHeader",valueType:"jsonCode"},{title:"\u72B6\u6001",dataIndex:"status",hideInForm:!0,valueEnum:{0:{text:"\u5173\u95ED",status:"Default"},1:{text:"\u5F00\u542F",status:"Processing"}}},{title:"\u521B\u5EFA\u65F6\u95F4",dataIndex:"createTime",valueType:"dateTime",hideInForm:!0},{title:"\u66F4\u65B0\u65F6\u95F4",dataIndex:"updateTime",valueType:"dateTime",hideInForm:!0},{title:"\u64CD\u4F5C",dataIndex:"option",valueType:"option",render:function(u,a){return[(0,d.jsx)("a",{onClick:function(){y(!0),W(a)},children:"\u4FEE\u6539"},"config"),a.status===0?(0,d.jsx)("a",{onClick:function(){de(a)},children:"\u53D1\u5E03"},"config"):null,a.status===1?(0,d.jsx)(Z.Z,{type:"text",danger:!0,onClick:function(){ce(a)},children:"\u4E0B\u7EBF"},"config"):null,(0,d.jsx)(Z.Z,{type:"text",danger:!0,onClick:function(){te(a)},children:"\u5220\u9664"},"config")]}}];return(0,d.jsxs)(X._z,{children:[(0,d.jsx)(U.Z,{headerTitle:"\u67E5\u8BE2\u8868\u683C",actionRef:R,rowKey:"key",search:{labelWidth:120},toolBarRender:function(){return[(0,d.jsxs)(Z.Z,{type:"primary",onClick:function(){b(!0)},children:[(0,d.jsx)($.Z,{})," \u65B0\u5EFA"]},"primary")]},request:function(){var c=p()(t()().mark(function u(a,i,m){var n;return t()().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return O.next=2,(0,C.Kz)(g()({},a));case 2:if(n=O.sent,!(n!=null&&n.data)){O.next=7;break}return O.abrupt("return",{data:(n==null?void 0:n.data.records)||[],success:!0,total:(n==null?void 0:n.data.total)||0});case 7:return O.abrupt("return",{data:[],success:!1,total:0});case 8:case"end":return O.stop()}},u)}));return function(u,a,i){return c.apply(this,arguments)}}(),columns:z,rowSelection:{onChange:function(u,a){ae(a)}}}),(M==null?void 0:M.length)>0&&(0,d.jsxs)(N.S,{extra:(0,d.jsxs)("div",{children:["\u5DF2\u9009\u62E9"," ",(0,d.jsx)("a",{style:{fontWeight:600},children:M.length})," ","\u9879 \xA0\xA0",(0,d.jsxs)("span",{children:["\u670D\u52A1\u8C03\u7528\u6B21\u6570\u603B\u8BA1 ",M.reduce(function(c,u){return c+u.callNo},0)," \u4E07"]})]}),children:[(0,d.jsx)(Z.Z,{onClick:p()(t()().mark(function c(){var u,a;return t()().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.next=2,te(M);case 2:ae([]),(u=R.current)===null||u===void 0||(a=u.reloadAndRest)===null||a===void 0||a.call(u);case 4:case"end":return m.stop()}},c)})),children:"\u6279\u91CF\u5220\u9664"}),(0,d.jsx)(Z.Z,{type:"primary",children:"\u6279\u91CF\u5BA1\u6279"})]}),(0,d.jsx)(G,{columns:z,onSubmit:function(){var c=p()(t()().mark(function u(a){var i;return t()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,oe(a);case 2:i=n.sent,i&&(y(!1),W(void 0),R.current&&R.current.reload());case 4:case"end":return n.stop()}},u)}));return function(u){return c.apply(this,arguments)}}(),onCancel:function(){y(!1),q||W(void 0)},visible:w,values:T||{}}),(0,d.jsx)(D.Z,{width:600,visible:q,onClose:function(){W(void 0),x(!1)},closable:!1,children:(T==null?void 0:T.name)&&(0,d.jsx)(B.vY,{column:2,title:T==null?void 0:T.name,request:p()(t()().mark(function c(){return t()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",{data:T||{}});case 1:case"end":return a.stop()}},c)})),params:{id:T==null?void 0:T.name},columns:z})}),(0,d.jsx)(A,{columns:z,onCancel:function(){b(!1)},onSubmit:function(u){le(u)},visible:F})]})},o=l},37872:function(ue,K,s){s.d(K,{GC:function(){return J},Kz:function(){return I},Lu:function(){return ee},T7:function(){return Q},US:function(){return N},XG:function(){return X},Y4:function(){return _},zr:function(){return L}});var V=s(97983),t=s.n(V),Y=s(11281),g=s.n(Y),H=s(40794),p=s.n(H),P=s(30028);function _(l,o){return $.apply(this,arguments)}function $(){return $=p()(t()().mark(function l(o,v){return t()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,P.request)("/api/api/add",g()({method:"POST",headers:{"Content-Type":"application/json"},data:o},v||{})));case 1:case"end":return e.stop()}},l)})),$.apply(this,arguments)}function X(l,o){return U.apply(this,arguments)}function U(){return U=p()(t()().mark(function l(o,v){return t()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,P.request)("/api/api/delete",g()({method:"POST",headers:{"Content-Type":"application/json"},data:o},v||{})));case 1:case"end":return e.stop()}},l)})),U.apply(this,arguments)}function N(l,o){return B.apply(this,arguments)}function B(){return B=p()(t()().mark(function l(o,v){return t()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,P.request)("/api/api/get",g()({method:"GET",params:g()({},o)},v||{})));case 1:case"end":return e.stop()}},l)})),B.apply(this,arguments)}function ee(l,o){return h.apply(this,arguments)}function h(){return h=p()(t()().mark(function l(o,v){return t()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,P.request)("/api/api/invoke",g()({method:"POST",headers:{"Content-Type":"application/json"},data:o},v||{})));case 1:case"end":return e.stop()}},l)})),h.apply(this,arguments)}function Z(l,o){return D.apply(this,arguments)}function D(){return D=_asyncToGenerator(_regeneratorRuntime().mark(function l(o,v){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",request("/api/api/list",_objectSpread({method:"GET",params:_objectSpread({},o)},v||{})));case 1:case"end":return e.stop()}},l)})),D.apply(this,arguments)}function I(l,o){return C.apply(this,arguments)}function C(){return C=p()(t()().mark(function l(o,v){return t()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,P.request)("/api/api/list/page",g()({method:"GET",params:g()({},o)},v||{})));case 1:case"end":return e.stop()}},l)})),C.apply(this,arguments)}function L(l,o){return d.apply(this,arguments)}function d(){return d=p()(t()().mark(function l(o,v){return t()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,P.request)("/api/api/offline",g()({method:"POST",headers:{"Content-Type":"application/json"},data:o},v||{})));case 1:case"end":return e.stop()}},l)})),d.apply(this,arguments)}function J(l,o){return A.apply(this,arguments)}function A(){return A=p()(t()().mark(function l(o,v){return t()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,P.request)("/api/api/online",g()({method:"POST",headers:{"Content-Type":"application/json"},data:o},v||{})));case 1:case"end":return e.stop()}},l)})),A.apply(this,arguments)}function Q(l,o){return G.apply(this,arguments)}function G(){return G=p()(t()().mark(function l(o,v){return t()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,P.request)("/api/api/update",g()({method:"POST",headers:{"Content-Type":"application/json"},data:o},v||{})));case 1:case"end":return e.stop()}},l)})),G.apply(this,arguments)}}}]);
